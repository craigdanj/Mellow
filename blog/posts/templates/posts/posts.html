{% extends "posts/base.html" %}

{% block content %}

	<div>

		{% if sub_type %}
			<h1 class="border-bottom pb-2">{{sub_type}}</h1>
		{% endif %}

		{% for post in post_list %}
			<div class="post-excerpt border-bottom pb-4 pt-4">
				<p class="text-black-50">
					{{post.pub_date|date:"N j o"}}
				</p>

				<h2 class="h3">
					<a class="post-title text-dark" href="/post/{{post.id}}">{{post.title}}</a>
				</h2>

				<div class="post-description text-muted">
					{{post.description|truncatechars:200}}
				</div>

				{% if post.description|length > 100 %}
					<a href="/post/{{post.id}}" class="badge badge-primary">Read more</a>
				{% endif %}

			</div>
		{% endfor %}

		<div class="pagination mt-3">
			<ul class="nav">
				{% for page in pagination_items %}
					<li class="nav-item">
						{% if type == "category" or type == "tag"  %}
							<a class="nav-link" href="/{{type}}/{{sub_type_id}}/{{page}}">{{page}}</a>
						{% else%}
							<a class="nav-link" href="/posts/{{page}}">{{page}}</a>
						{% endif %}
					</li>
				{% endfor %}
			</ul>

		</div>
	</div>

{% endblock %}

{% block sidebar %}

	<h5>Categories</h5>

	<ul class="nav flex-column">
		{% for category in category_list %}
			<li class="nav-item">
				<a class="nav-link" href="/category/{{category.pk}}/1">{{category.name}}</a>
			</li>
		{% endfor %}
	</ul>


	<h5 class="mt-5">Tags</h5>

	<ul class="nav flex-column">
		{% for tag in tag_list %}
			<li class="nav-item">
				<a class="nav-link" href="/tag/{{tag.pk}}/1">{{tag.name}}</a>
			</li>
		{% endfor %}
	</ul>

{% endblock %}